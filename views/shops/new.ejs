

<% layout('layouts/boilerplate')%>
<h1 class="text-center">New Shop</h1>
<form action="/users/<%=usersId%>/shops" method="post" class="needs-validation" enctype="multipart/form-data" novalidate>
    <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input type="text" name="shop[name]" id="name" class="form-control" required>
        <div class="valid-feedback">
            Looks good!
        </div>
    </div>
    <div class="mb-3">
        <label for="phone" class="form-label">
            Phone
        </label>
        <input type="text" name="shop[phone]" id="phone" class="form-control" required>
        <div class="valid-feedback">
            Looks good!
        </div>
    </div>
    <div class="mb-3">
        <label for="location" class="form-label">Location</label>
        <input type="text" name="shop[location]" id="location" class="form-control" required>
        <div class="valid-feedback">
            Looks good!
        </div>
    </div>
    <div class="input-group">
        <span class="input-group-text">Longitude - Latitude</span>
        <input type="text" name="lng" aria-label="First name" class="lng form-control">
        <input type="text" name="lat"aria-label="Last name" class="lat form-control">
      </div>
    <div class="mb-3">
        <label for="image" class="form-label">Upload Images</label>
        <input class="form-control" type="file" name="image" id="image" multiple>
    </div>
    <div class="mb-3">
        <label class="form-label" for="description">Description</label>
        <textarea class="form-control" id="description" name="shop[description]"
            required></textarea>
        <div class="valid-feedback">
            Looks good!
        </div>
    </div>
    <div class="mb-3">
        <button type="submit" class="btn btn-primary">Build Shop</button>
    </div>
    <h3>Location</h3>
    <!-- <p class="location-text"></p> -->
    <ul class="location-examples">

    </ul>
    <div class="mb-3">
        <div id="map"></div>

    </div>
</form>


<script src="https://unpkg.com/@mapbox/mapbox-sdk/umd/mapbox-sdk.min.js"></script>
<script>
    const mapToken = '<%- process.env.MAPBOX_TOKEN %>'
    // const shop = < %-JSON.stringify(shop)% >
</script>

<!-- <script src="/scripts/showPageMap.js"></script> -->
<script src="/scripts/newMap.js"></script>